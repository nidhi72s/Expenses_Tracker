{% extends "base.html" %}
{% block content %}
<h2>Welcome to Expense Tracker</h2>
<p>Go to <a href="/expenses">Expenses</a> to manage your expenses.</p>
<canvas id="expenseChart" width="400" height="400"></canvas>
<script>
    let categories = {{ expenses|map(attribute='category')|list|tojson }};
    let amounts = {{ expenses|map(attribute='amount')|list|tojson }};

    let ctx = document.getElementById('expenseChart').getContext('2d');
    new Chart(ctx, {
        type: 'pie',
        data: {
            labels: categories,
            datasets: [{
                data: amounts,
                backgroundColor: ['red','blue','green','orange','purple']
            }]
        }
    });
</script>
{% endblock %}
